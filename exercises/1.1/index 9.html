
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../media/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.3">
    
    
      
        <title>1.1: HTTP Basics - SEC522 Workbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1655a90d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../styles/jquery.fancybox.min.css">
    
      <link rel="stylesheet" href="../../styles/custom.css">
    
      <link rel="stylesheet" href="../../styles/pdf.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-orange" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#http-basics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SEC522 Workbook" class="md-header__button md-logo" aria-label="SEC522 Workbook">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SEC522 Workbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1.1: HTTP Basics
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SEC522 Workbook" class="md-nav__button md-logo" aria-label="SEC522 Workbook">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SEC522 Workbook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Introduction
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome!
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" >
      
      <label class="md-nav__link" for="__nav_1_3">
        Course
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Course" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          Course
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/preparation/" class="md-nav__link">
        Preparation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/references/" class="md-nav__link">
        References
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/appendix/" class="md-nav__link">
        Appendix
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      <label class="md-nav__link" for="__nav_1_4">
        Errata & Patches
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Errata & Patches" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          Errata & Patches
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../errata/F01_01/" class="md-nav__link">
        F01_01
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Day 1
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Day 1" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Day 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          1.1: HTTP Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        1.1: HTTP Basics
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#part-0-introduction-to-burp-if-you-are-not-already-familiar-with-burp" class="md-nav__link">
    Part 0: Introduction to Burp (If You Are Not Already Familiar with Burp)
  </a>
  
    <nav class="md-nav" aria-label="Part 0: Introduction to Burp (If You Are Not Already Familiar with Burp)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-by-step" class="md-nav__link">
    Step by Step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-1-manipulating-http-requests" class="md-nav__link">
    Part 1: Manipulating HTTP Requests
  </a>
  
    <nav class="md-nav" aria-label="Part 1: Manipulating HTTP Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-by-step_1" class="md-nav__link">
    Step by Step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-intercepting-https-requests" class="md-nav__link">
    Part 2: Intercepting HTTPS Requests
  </a>
  
    <nav class="md-nav" aria-label="Part 2: Intercepting HTTPS Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-by-step_2" class="md-nav__link">
    Step by Step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-further" class="md-nav__link">
    Explore Further
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../1.2/" class="md-nav__link">
        1.2: Inspecting HTTP/2 Traffic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../1.3/" class="md-nav__link">
        1.3: Isolation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../1.4/" class="md-nav__link">
        1.4: SSRF and Credential Stealing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Day 2
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Day 2" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Day 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../2.1/" class="md-nav__link">
        2.1: SQL Injection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../2.2/" class="md-nav__link">
        2.2: Guestbook CSRF
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../2.3/" class="md-nav__link">
        2.3: Cross-Site Scripting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../2.4/" class="md-nav__link">
        2.4: Unicode and File Upload
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Day 3
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Day 3" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Day 3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../3.1/" class="md-nav__link">
        3.1: Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../3.2/" class="md-nav__link">
        3.2: Session Fixation and Session Breaking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../3.3/" class="md-nav__link">
        3.3: OAuth and Access Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../3.4/" class="md-nav__link">
        3.4: Inspecting SSL Traffic
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Day 4
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Day 4" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Day 4
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4.1/" class="md-nav__link">
        4.1: WSDL Enumeration and Parameter Tampering
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4.2/" class="md-nav__link">
        4.2: XMLHttpRequest
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4.3/" class="md-nav__link">
        4.3: Javascript Security Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4.4/" class="md-nav__link">
        4.4: Content Security Policy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Day 5
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Day 5" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Day 5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.1/" class="md-nav__link">
        5.1: DNS Rebinding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.2/" class="md-nav__link">
        5.2: Clickjacking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.3/" class="md-nav__link">
        5.3: HTML5
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.4/" class="md-nav__link">
        5.4: Sub Resource Integrity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.5/" class="md-nav__link">
        5.5: Logging and Incident Response
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        SANS AppSec
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="SANS AppSec" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          SANS AppSec
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://software-security.sans.org" class="md-nav__link">
        Website
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <style>
@page { @top-center {
    content: 'SANS SEC522 Workbook';
}}
@page :left { @bottom-left {
  content: '1.1-' counter(page);
}}
@page :right { @bottom-right {
  content: '1.1-' counter(page);
}}
</style>

<h1 id="http-basics">HTTP Basics</h1>
<hr />
<h4 id="objectives">Objectives</h4>
<div class="codehilite"><pre><span></span><code>Estimated Time: 20 minutes
</code></pre></div>

<h5 id="part-0-if-you-are-not-already-familiar-with-burp">Part 0: <em>(if you are not already familiar with Burp)</em></h5>
<blockquote>
<p>In this exercise, we will use the Burp proxy to intercept HTTP requests and responses. The goal of the exercise is to become familiar with Burp.</p>
</blockquote>
<h5 id="part-1">Part 1:</h5>
<blockquote>
<p>Learn how to manipulate requests and responses with Burp and how invalid requests and responses are affecting the browser and the server.</p>
</blockquote>
<h5 id="part-2">Part 2:</h5>
<blockquote>
<p>Understand how HTTPS requests can be intercepted with Burp and what limitations may exist.</p>
</blockquote>
<h4 id="requirements">Requirements</h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Lab VM</li>
</ul>
<hr />
<h2 id="part-0-introduction-to-burp-if-you-are-not-already-familiar-with-burp">Part 0: Introduction to Burp <em>(If You Are Not Already Familiar with Burp)</em></h2>
<h3 id="step-by-step">Step by Step</h3>
<p>Burp Community Edition is a free interception proxy created by PortSwigger. It can be used to inspect and manipulate HTTP requests, as well as HTTP responses. Any requests being sent by the browser can be intercepted by Burp. You will be able to edit requests before they are passed to the server. The reverse is also true: Any response from the server can be edited before the browser receives it.</p>
<p><img alt="" src="media/image1.png" />
<img alt="" src="media/image0.png" />
<img alt="" src="media/image2.png" />
<img alt="" src="media/image0.png" />
<img alt="" src="media/image3.png" /></p>
<p>Burp Overview</p>
<ol>
<li>
<p>Start <strong>Burp</strong> by clicking on the icon on the left.</p>
<p><img alt="" class="zoom" src="media/img-1614924823-20210305.png" /></p>
</li>
<li>
<p>Accept License</p>
<p>Click on "I  Accept" on the Terms and Conditions prompt.</p>
<p><img alt="" class="zoom" src="media/img-1614924347-20210305.png" /></p>
<div class="admonition danger">
<p class="admonition-title"><em>DO NOT INSTALL ANY UPDATES!</em></p>
<p>Please do not install any updates if prompted.</p>
</div>
<p>The Burp Community Edition only allows for temporary projects. Click "Next" on the Welcome screen.</p>
<p><img alt="" src="media/image6.png" /></p>
</li>
<li>
<p>Next, select "Load from configuration file" and then select "Choose File" on the right hand side. </p>
<p><img alt="" class="zoom" src="media/img-1615093867-20210307.png" /></p>
<p>The file is located in the "Documents" directory and then "Burp" directory. The prepared configuration file is "sec522burp.json". Select to open the file and then "Start Burp" (the orange button on the lower right hand corner)</p>
<p><img alt="" class="zoom" src="media/img-1615089483-20210306.png" /></p>
<p>Eventually, you will see the main Burp window.</p>
<p><img alt="" class="zoom" src="media/img-1615005632-20210305.png" /></p>
<p><strong>Main Burp Window</strong></p>
</li>
<li>
<p>For now, we want to disable interception via Burp. Instead, we would like to have Burp record requests and responses without holding them. Select the "Proxy" tab and make sure the "Intercept" button states "Intercept is off". Click the button to toggle it from "on" to "off".</p>
<p><img alt="" class="zoom" src="media/img-1615005851-20210305.png" /></p>
</li>
<li>
<p>Start the <strong>Chrome</strong> web browser by clicking the Chrome icon on the left.</p>
<p><img alt="" src="media/image9.png" /></p>
</li>
<li>
<p>After Chrome starts, use the Proxy Switcher plugin to select Burp as a proxy. The Proxy Switcher plugin can be found in the top right corner of Chrome. The icon is gray to indicate that no proxy is selected, and Chrome connects directly. Once you select a proxy, the icon will be red. Click on the icon to open the settings. Select "Manual Proxy" to activate the proxy. "Burp" should be the active selection in the "Profile" dropdown.</p>
<p><img alt="" class="zoom" src="media/img-1615006477-20210305.png" /></p>
</li>
<li>
<p>Proxy Switcher Configuration</p>
<p>If you wish to turn off interception later, just select "Direct" from the Proxy Switcher dialog.</p>
<div class="admonition information">
<p class="admonition-title">Proxy Switcher</p>
<p>Proxy switcher gives you an easy means to toggle between traffic directly going from browser to website or routing through the Burp proxy. 
When the Proxy Switcher icon is red, you know the traffic is going through the Burp proxy.
If you toggle the Proxy Switcher to route traffic to Burp and Burp is not running, that could lead to the browser traffic to time out. </p>
</div>
</li>
<li>
<p>In Chrome, browse to <a href="http://lab-1.1.sans.labs/">http://lab-1.1.sans.labs/</a> (expect a small delay on this first page load)</p>
</li>
<li>
<p>You are now presented with an Animal Shelter web application. </p>
</li>
<li>
<p>If you pass these tests, switch back to Burp by clicking on the Burp icon <strong>in</strong> the "Favorites" list on the left (the bottom one). At this point, Burp is recording requests and responses, but not allowing you to alter them. You can inspect the requests and responses by selecting the "Target" tab.</p>
<p><img alt="" class="zoom" src="media/img-1615097436-20210307.png" /></p>
</li>
<li>
<p>Burp Target Tab</p>
<p>Highlight the request for "/" (likely at the top).</p>
<p>Use the information from the target tab to answer the following questions:</p>
<details class="question"><summary>What method was used to request the page?</summary><p>GET</p>
</details>
<details class="question"><summary>What HTTP version did the browser use?</summary><p>1.1</p>
</details>
<details class="question"><summary>What browser (and version) was used?</summary><p>Chrome 89.0.4389.82</p>
</details>
<details class="question"><summary>What language does the browser prefer?</summary><p>en-US</p>
</details>
<details class="question"><summary>Which header is used specifically to tell the server that this browser prefers HTTPS? <br><em>(extra credit)</em></summary><p>Upgrade-Insecure-Requests: 1</p>
</details>
</li>
</ol>
<h2 id="part-1-manipulating-http-requests">Part 1: Manipulating HTTP Requests</h2>
<h3 id="step-by-step_1">Step by Step</h3>
<ol>
<li>
<p>Load <a href="http://lab-1.1.sans.labs/inspect.php">http://lab-1.1.sans.labs/inspect.php</a> in Chrome. This page is also accessible by clicking on the link (Inspect Headers) at upper right hand corner of the Animal Shelter main page. </p>
</li>
<li>
<p>Make sure Burp is running</p>
</li>
<li>
<p>In Burp, select the "Proxy" tab, and make sure "Intercept" is "on". If not, click on the button to enable it.</p>
<p><img alt="" class="zoom" src="media/img-1615099916-20210307.png" /></p>
<p><strong>Enabling Interception in Burp</strong></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>After interception is enabled in Burp, and Burp is enabled as a proxy using Proxy Switcher in Chrome, all requests will be held by Burp. If you refresh your browser, the connection will appear to "hang" until you forward the request in Burp.</p>
</div>
</li>
<li>
<p>Enable Burp as a proxy in Chrome via Proxy Switcher.</p>
<p><img alt="" class="zoom" src="media/img-1615100039-20210307.png" /></p>
</li>
<li>
<p>Enabling Burp as a Proxy in Chrome via Proxy Switcher</p>
</li>
<li>
<p>Reload the page in Chrome by clicking the </p>
<p><img alt="" src="media/image14.png" /></p>
</li>
<li>
<p>Switch to Burp (click the Burp icon at the bottom of the left "Favorites" bar)</p>
<p>You will now see the request held by Burp. For now, we just want to make sure everything is working right.</p>
</li>
<li>
<p>Click "Forward".</p>
</li>
<li>
<p>Switch back to Chrome.</p>
</li>
<li>
<p>Reload the page again.</p>
</li>
<li>
<p>Switch to Burp. This time remove the "Host" header from the request. Make sure you remove the entire line. There should be no empty line left in the header.</p>
</li>
<li>
<p>Click "Forward".</p>
<details class="question"><summary>What error message does Chrome display?</summary><p>400 Bad Request</p>
</details>
</li>
<li>
<p>In Burp, select the "HTTP history" from the "Proxy" tab and select the last line to answer the next few questions. The last line should represent the request you just edited. You will find the answers by selecting the "Response" tab in the middle of the Burp window.</p>
<details class="question"><summary>What status code did the server use to respond?</summary><p>400</p>
</details>
<details class="question"><summary>What server version was used?</summary><p>Apache/2.4.38 (Debian)</p>
</details>
</li>
<li>
<p>Reload the page once more.</p>
</li>
<li>
<p>Switch back to the "Intercept" tab in Burp.</p>
</li>
<li>
<p>In Burp, add a second "Referer" header with arbitrary content. (If there is no Referer header, then add two "Referer" headers to the request). For example:</p>
<div class="highlight"><pre><span></span><code>Referer: http://www.test.com
Referer: Some random nonsense
</code></pre></div>
<p><img alt="" class="zoom" src="media/img-1615101268-20210307.png" /></p>
<p><strong><em>Request in Burp with two "Referer" headers prior to clicking "Forward".</em></strong></p>
</li>
<li>
<p>Once the response is returned, the page will display the Referer header as the web application received it. What do you see? The content of the first, second, or both headers?</p>
<details class="question"><summary>Which data does the application receive for the 'Referer' header?</summary><p>The second</p>
</details>
</li>
</ol>
<hr />
<h2 id="part-2-intercepting-https-requests">Part 2: Intercepting HTTPS Requests</h2>
<h3 id="step-by-step_2">Step by Step</h3>
<p>Load an HTTPS page via Burp. Inspect the certificate and explain why a warning is displayed.</p>
<ol>
<li>
<p>Keeping Burp enabled from the prior exercise, but disable "Interception" (in the "Proxy" menu check the "Intercept" tab and toggle the "Intercept on/off" button) and visit any HTTPS page. For example, <a href="http://lab-1.1.sans.labs/">http://lab-1.1.sans.labs/</a>.</p>
<div class="admonition question">
<p class="admonition-title">You will receive a warning. Why?</p>
</div>
</li>
<li>
<p>Click on "Advanced".</p>
</li>
<li>
<p>Inspect the certificate by clicking on "Not secure" to the left of the URL.</p>
<p><img alt="" class="zoom" src="media/img-1615101609-20210307.png" /></p>
<p><strong>TLS Security Warning.</strong></p>
</li>
<li>
<p>Click on "Certificate (invalid)". This will display the certificate information:</p>
<p><img alt="" class="zoom" src="media/img-1615101671-20210307.png" /></p>
<p><strong>Burp Certificate</strong></p>
<details class="question"><summary>Who issued the certificate?</summary><p>PortSwigger CA</p>
</details>
<details class="question"><summary>Which hostname is covered by the certificate?</summary><p>lab-1.1.sans.labs</p>
</details>
</li>
</ol>
<hr />
<h2 id="conclusion">Conclusion</h2>
<ul>
<li>Burp is a man-in-the middle proxy, allow you to intercept and manipulate requests prior to sending the request to server and before the response is received by the browser.</li>
<li>Browser handles the request and response header, generally without the user being aware of their existance.</li>
<li>The request headers have an impact on how the server process the request. The reponse headers also have an impact on the browser's behavior as well.</li>
</ul>
<hr />
<h2 id="explore-further">Explore Further</h2>
<ul>
<li></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../errata/F01_01/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              F01_01
            </div>
          </div>
        </a>
      
      
        <a href="../1.2/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              1.2: Inspecting HTTP/2 Traffic
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Jason Lam & Dr. Johannes Ullrich
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://gitlab.com/sansappsec" target="_blank" rel="noopener" title="gitlab.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.94 13.11l-1.05-3.22c0-.03-.01-.06-.02-.09l-2.11-6.48a.859.859 0 0 0-.8-.57c-.36 0-.68.25-.79.58l-2 6.17H8.84L6.83 3.33a.851.851 0 0 0-.79-.58c-.37 0-.69.25-.8.58L3.13 9.82v.01l-1.07 3.28c-.16.5.01 1.04.44 1.34l9.22 6.71c.17.12.39.12.56-.01l9.22-6.7c.43-.3.6-.84.44-1.34M8.15 10.45l2.57 7.91-6.17-7.91m8.73 7.92l2.47-7.59.1-.33h3.61l-5.59 7.16m4.1-13.67l1.81 5.56h-3.62m-1.3.95l-1.79 5.51L12 19.24l-2.86-8.79M6.03 3.94L7.84 9.5H4.23m-1.18 4.19c-.09-.07-.13-.19-.09-.29l.79-2.43 5.82 7.45m11.38-4.73l-6.51 4.73.02-.03 5.79-7.42.79 2.43c.04.1 0 .22-.09.29"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/SANSDevSecOps" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.ca5457b8.min.js"></script>
      
        <script src="../../scripts/jquery-3.4.1.min.js"></script>
      
        <script src="../../scripts/jquery.fancybox.min.js"></script>
      
        <script src="../../scripts/custom.js"></script>
      
    
  </body>
</html>